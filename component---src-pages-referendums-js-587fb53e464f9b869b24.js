(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{223:function(e,a,t){"use strict";t.r(a);t(109);var n=t(0),o=t.n(n),m=t(81),i=t.n(m),c=t(216),l=(t(219),t(231)),r=t.n(l),u=(t(49),t(217)),s=t.n(u),d=t(218),h=["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"],f=["#70add1","#b4cedf","#fc8916","#fee8d0","#e49ea2","#f0cacd","#8b8181","#cbcbcb","#c6e1c2","#eaf4e9"],p=function(e,a){var t=e.income.items.map((function(e){return e.name})),n=e.income.items.map((function(e){return e.amount||0}));a=a||"",t.unshift("收入分佈"),n.unshift(a),this.incomeTitles=t,this.incomeAmounts=n;var o=e.outcome.items.map((function(e){return e.name})),m=e.outcome.items.map((function(e){return e.amount||0}));o.unshift("支出分佈"),m.unshift(a),this.outcomeTitles=o,this.outcomeAmounts=m,this.incomeTotal=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.income.total),this.outcomeTotal=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.outcome.total)},E=function(e){var a=e.finance,t=new p(a=a||{income:{total:0,items:[{name:"無資料",amount:0}]},outcome:{total:0,items:[{name:"無資料",amount:0}]}});return o.a.createElement("div",{className:s.a.candidateFinanceBlock},o.a.createElement("div",{className:s.a.candidateFinanceDetailBlock},o.a.createElement(d.a,{height:"100px",chartType:"BarChart",loader:o.a.createElement("div",null,"Loading Chart"),data:[t.incomeTitles,t.incomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:h}}),o.a.createElement("h6",null,"總收入: ",t.incomeTotal)),o.a.createElement("div",{className:s.a.candidateFinanceDetailBlock},o.a.createElement(d.a,{height:"100px",chartType:"BarChart",loader:o.a.createElement("div",null,"Loading Chart"),data:[t.outcomeTitles,t.outcomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:f}}),o.a.createElement("h6",null,"總支出: ",t.outcomeTotal)))},v=function(e){var a=e.referendums.map((function(e){var a=e.finance||{income:{total:0,items:[{name:"個人捐贈收入",amount:0},{name:"營利事業捐贈收入",amount:0},{name:"政黨或人民團體捐贈收入",amount:0},{name:"募集活動收入",amount:0},{name:"其他收入",amount:0}]},outcome:{total:0,items:[{name:"宣傳類支出",amount:0},{name:"宣傳車輛類支出",amount:0},{name:"辦事處類支出",amount:0},{name:"集會類支出",amount:0},{name:"交通旅運類支出",amount:0},{name:"雜支類支出",amount:0}]}};return new p(a,e.no)})),t=a[0].incomeTitles,n=a[0].outcomeTitles,m=a.map((function(e){return e.incomeAmounts})),i=a.map((function(e){return e.outcomeAmounts}));return m.unshift(t),i.unshift(n),o.a.createElement("div",{className:s.a.candidatesFinanceCompareChart},o.a.createElement("div",{className:s.a.candidatesFinanceCompareChartWrapper},o.a.createElement("h3",null,"收入比較"),o.a.createElement(d.a,{chartType:"ColumnChart",height:"600px",loader:o.a.createElement("div",null,"Loading Chart"),data:m,options:{title:null,isStacked:!0,vAxis:{textPosition:"left",minValue:0},legend:{position:"none"},colors:h}})),o.a.createElement("div",{className:s.a.candidatesFinanceCompareChartWrapper},o.a.createElement("h3",null,"支出比較"),o.a.createElement(d.a,{chartType:"ColumnChart",height:"600px",loader:o.a.createElement("div",null,"Loading Chart"),data:i,options:{title:null,isStacked:!0,vAxis:{textPosition:"left",minValue:0},legend:{position:"none"},colors:f}})))};t.d(a,"query",(function(){return g}));var g="3841967532",T=function(e){var a=e.referendum;return o.a.createElement("div",{className:r.a.referendumBlock},o.a.createElement("h3",null,a.no),o.a.createElement("div",{className:r.a.referendumInfoWrapper},o.a.createElement("p",{className:r.a.referendumContent},a.content),o.a.createElement("div",null,o.a.createElement("h5",null,a.passed?"通過":"未通過"),o.a.createElement("h6",null,"同意票: ",a.affirmative),o.a.createElement("h6",null,"不同意票: ",a.negative),o.a.createElement("h6",null,"投票率: ",a.rate_of_vote))),o.a.createElement("h5",null,"財務資料:"),o.a.createElement(E,{finance:a.finance}),o.a.createElement("hr",null))};a.default=function(e){var a=e.data,t=a.allReferendumsJson.nodes.map((function(e){return o.a.createElement(T,{referendum:e})}));return o.a.createElement(c.a,null,o.a.createElement("h1",{className:r.a.pageHeading},o.a.createElement(i.a,{fixed:a.flagImage.childImageSharp.fixed,className:r.a.decorationImage}),"公投"),t,o.a.createElement(v,{referendums:a.allReferendumsJson.nodes}))}}}]);
//# sourceMappingURL=component---src-pages-referendums-js-587fb53e464f9b869b24.js.map