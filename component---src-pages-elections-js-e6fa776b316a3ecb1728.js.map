{"version":3,"sources":["webpack:///./src/pages/elections.js","webpack:///./src/stylesheets/elections.module.sass"],"names":["query","YearsList","yearsArray","data","allElectionsJson","nodes","map","election","year","yearsList","Set","href","className","styles","ElectionBlocks","electionBlocks","concat","apply","Election","electionTitle","fixed","flagImage","childImageSharp","decorationImage","title","regions","urlPrefix","name","ElectionsIndexPage","to","module","exports"],"mappings":"wrCASO,IAAMA,EAAK,aA4CLC,EAAY,SAAC,GAAc,IAChCC,EAD+B,EAAXC,KACFC,iBAAiBC,MAAMC,KAAI,SAACC,GAAD,OAAeA,EAASC,QACrEC,EAAY,EAAI,IAAIC,IAAIR,IAAaI,KAAI,SAACE,GAAD,OAC7C,4BACE,uBAAGG,KAAK,KACJH,OAIR,OACE,6BACE,wBAAII,UAAYC,IAAOJ,WACnBA,KAMGK,EAAiB,SAAC,GAAc,IAAZX,EAAW,EAAXA,KAEzBY,EADY,GAAGC,OAAOC,MAAM,GAAId,EAAKC,iBAAiBC,MAAMC,KAAI,SAACC,GAAD,OAAe,IAAIW,IAASX,OACjED,KAAI,SAACC,GACpC,OACE,6BACE,wBAAIK,UAAYC,IAAOM,eACrB,kBAAC,IAAD,CAAKC,MAAQjB,EAAKkB,UAAUC,gBAAgBF,MAAQR,UAAYC,IAAOU,kBACrEhB,EAASiB,OAEb,kBAAC,IAAD,CAAcC,QAAUlB,EAASkB,QACnBC,UAAS,aAAgBnB,EAASoB,WAItD,OACE,yBAAKf,UAAWC,IAAOE,gBACnBA,IAMOa,UArDY,SAAC,GAAc,IAAZzB,EAAW,EAAXA,KAC5B,OACE,kBAAC,IAAD,KACE,kBAAC,OAAD,CAAM0B,GAAG,KAAK,QACd,kBAAC,IAAD,CAAKL,MAAM,SAEX,kBAACV,EAAD,CAAgBX,KAAOA,O,qBC7C7B2B,EAAOC,QAAU,CAAC,eAAiB,0CAA0C,cAAgB,yCAAyC,UAAY","file":"component---src-pages-elections-js-e6fa776b316a3ecb1728.js","sourcesContent":["import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport Layout from \"../components/layout\"\nimport RegionsLinks from \"../components/regions_links\"\nimport SEO from \"../components/seo\"\nimport Election from \"../modules/election\"\nimport styles from '../stylesheets/elections.module.sass'\n\nexport const query = graphql`\n  query {\n    allElectionsJson(filter: { name: { ne: null } }) {\n      nodes {\n        year\n        name\n        regions {\n          name\n          constituencies {\n            name\n          }\n        }\n      }\n    }\n    flagImage: file(relativePath: { eq: \"flag.png\" }) {\n      childImageSharp {\n        fixed(width: 36) {\n          ...GatsbyImageSharpFixed\n        }\n      }\n    }\n    boxImage: file(relativePath: { eq: \"box.png\" }) {\n      childImageSharp {\n        fixed(width: 108) {\n          ...GatsbyImageSharpFixed\n        }\n      }\n    }\n  }\n`\n\nconst ElectionsIndexPage = ({ data }) => {\n  return (\n    <Layout>\n      <Link to=\"/\">{'< 返回'}</Link>\n      <SEO title=\"選舉金流\" />\n      {/* <YearsList data={ data } /> */}\n      <ElectionBlocks data={ data } />\n      \n    </Layout>\n\n  )\n}\n\nexport const YearsList = ({ data }) => {\n  const yearsArray = data.allElectionsJson.nodes.map((election) => (election.year))\n  const yearsList = [...new Set(yearsArray)].map((year) => (\n    <li>\n      <a href=\"#\">\n        { year }\n      </a>\n    </li>\n  ))\n  return (\n    <div>\n      <ul className={ styles.yearsList }>\n        { yearsList }\n      </ul>\n    </div>\n  )\n}\n\nexport const ElectionBlocks = ({ data }) => {\n  const elections = [].concat.apply([], data.allElectionsJson.nodes.map((election) => (new Election(election))))\n  const electionBlocks = elections.map((election) => {\n    return (\n      <div>\n        <h3 className={ styles.electionTitle }>\n          <Img fixed={ data.flagImage.childImageSharp.fixed } className={ styles.decorationImage } />\n          { election.title }\n        </h3>\n        <RegionsLinks regions={ election.regions }\n                      urlPrefix={ `elections/${election.name}` } />\n      </div>\n    )\n  })\n  return (\n    <div className={styles.electionBlocks}>\n      { electionBlocks }\n    </div>\n  )\n}\n\n\nexport default ElectionsIndexPage\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"electionBlocks\":\"elections-module--electionBlocks--16lC3\",\"electionTitle\":\"elections-module--electionTitle--1ZSAP\",\"yearsList\":\"elections-module--yearsList--2mbtO\"};"],"sourceRoot":""}